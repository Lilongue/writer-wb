# План работ после создания MVP

Этот документ содержит список проблем и задач, которые нужно решить после завершения основного макета (MVP).

1. **Автоматическое создание файлов:** Решить проблему с отсутствием `.md`-файлов при первичной инициализации проекта (например, через `seed_test_data.sql`). Приложение должно само создавать недостающие файлы и папки.

2. **Контент у родительских элементов повествования:** Продумать и решить вопрос с наличием текстового контента у родительских элементов повествования (таких как "Часть" или "Глава"). Их контент может быть либо собственным (аннотация), либо должен агрегироваться из дочерних элементов, либо отсутствовать вовсе. Текущая модель, где у каждого элемента есть свой файл, требует пересмотра.

3. **Системное имя vs. Отображаемое имя:** Разделить "имя" объекта, используемое для файловых путей и внутренних связей, и "название", отображаемое в интерфейсе. Это позволит пользователям безопасно переименовывать элементы, не нарушая структуру проекта.

4. **Интерфейс кастомных полей:** Улучшить интерфейс отображения кастомных полей в центральной панели. На больших экранах текущая таблица может занимать слишком много места. Возможно, стоит рассмотреть более компактное или гибкое представление (например, несколько колонок или перенос под основной контент).

5. **Использование перечислений (Enums):** В коде сервисов и IPC-обработчиков перейти от использования "магических строк" (например, `'narrative'`, `'world'`) к TypeScript Enums. Это повысит надежность и читаемость кода, а также улучшит автодополнение при разработке.

6. **Тестирование бэкенда:** Написать юнит-тесты для основных методов бэкенд-сервисов (`ProjectService`, `NarrativeService`, `WorldObjectService`). Это необходимо для обеспечения стабильности и упрощения будущего рефакторинга.

7. **Рекурсивное удаление:** Реализовать возможность рекурсивного удаления элементов в дереве повествования (удаление родительского элемента вместе со всеми его дочерними элементами).

8. **Корректная реализация Drag-and-Drop:** Доработать функционал drag-and-drop в дереве повествования, чтобы изменения порядка элементов сохранялись в базе данных.

9. **Настраиваемая иерархия повествования:** Реализовать возможность для пользователя настраивать уровни и типы иерархии повествования (напр., Книга -> Том -> Часть -> Глава) для каждого проекта.
