# Журнал разработки

Этот файл содержит хронологию выполненных работ по проекту.

---

## 13 октября 2025 г

* **Пересмотр архитектуры и планирование:**
  * Проанализирована и обновлена схема БД (`db_scheme.md`, `schema.sql`), формально разделены `narrative_items` и `world_objects`.
  * Добавлены на рассмотрение новые фичи в `features.md` (настройки, переводы, темы).

* **Рефакторинг архитектуры `main` процесса:**
  * Создан документ `docs/architecture.md`, описывающий роли сервисов и слоев приложения.
  * Выделены слои и сервисы доступа к данным (`DAO`) для бизнес-логики повествования и общими типами.

* **Очистка проекта:**
  * Проведена очистка кода от артефактов шаблона и исправлены ошибки типизации TypeScript.

## 12 октября 2025 г

* **Рефакторинг и архитектурные решения:**
  * По предложению выделен `FileSystemService` для инкапсуляции операций с файловой системой.

* **Реализация ядра проекта (Шаг 1):**
  * Реализована основная логика для создания (`create`), открытия (`open`) и закрытия (`close`) проектов в `ProjectService`.
  * Функциональность управления проектами интегрирована в главное меню приложения (`File -> New/Open/Close Project`).

* **Исправление проблем сборки:**
  * Устранена критическая ошибка сборки, связанная с нативным модулем `better-sqlite3`.
  * Проблема решена путем корректного размещения зависимости и отката версии `Electron` до стабильной.

## 11 октября 2025 г

* **Настройка окружения (Шаг 0):**
  * Создан первоначальный макет приложения на основе шаблона `electron-react-boilerplate`.
  * Установлены ключевые зависимости: `better-sqlite3` для работы с базой данных и `chokidar` для отслеживания изменений файлов.

* **Проектирование архитектуры:**
  * Разработан стратегический план для основного сервиса приложения (`ProjectService`).
  * Определена структура и местоположение файлов в основном процессе Electron.

* **Реализация базовой структуры (Шаг 1):**
  * Создан файл схемы базы данных `assets/database/schema.sql`.
  * Создана заготовка класса `ProjectService` в `src/main/services/ProjectService.ts` для управления проектами.
  * Проведена реструктуризация файлов в соответствии с планом.
